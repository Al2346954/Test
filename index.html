<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vacation Management Usability Problem Map</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 100%; background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #764ba2 0%, #667eea 100%); color: white; padding: 30px; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 28px; font-weight: 700; }
        .header p { font-size: 14px; opacity: 0.9; }
        .header .gemini-badge { background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600; }
        .legend { padding: 15px 30px; background: #fff; border-bottom: 1px solid #e0e0e0; display: flex; gap: 25px; align-items: center; font-size: 13px; font-weight: 500; color: #4a5568; flex-wrap: wrap; }
        .legend strong { font-weight: 700; color: #2d3748; }
        .legend-item { display: flex; align-items: center; gap: 8px; }
        .legend-box { width: 18px; height: 18px; border-radius: 4px; }
        .table-container { overflow-x: auto; overflow-y: auto; max-height: calc(100vh - 250px); }
        table { width: 100%; border-collapse: separate; border-spacing: 0; font-size: 13px; }
        th { background: #2d3748; color: white; padding: 14px 10px; text-align: left; font-weight: 700; position: sticky; top: 0; z-index: 10; white-space: nowrap; font-size: 12px; border-right: 1px solid #4a5568; }
        th:first-child { position: sticky; left: 0; z-index: 20; min-width: 180px; }
        th:last-child { border-right: none; }
        td { padding: 12px 10px; border: 1px solid #e2e8f0; position: relative; min-width: 130px; max-width: 180px; vertical-align: top; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        td:first-child { position: sticky; left: 0; background: white; font-weight: 600; z-index: 5; border-right: 2px solid #a0aec0; white-space: nowrap; overflow: visible; }
        .cell-red { background: #fed7d7; color: #742a2a; font-size: 11px; cursor: pointer; transition: all 0.2s; position: relative; font-weight: 500; }
        .cell-red:hover { background: #fc8181; transform: scale(1.02); z-index: 15; box-shadow: 0 0 5px rgba(197, 48, 48, 0.5); }
        .cell-red.multiple { background: #f56565; color: white; font-weight: 600; }
        .cell-neutral { background: #f7fafc; color: #a0aec0; text-align: center; }
        .link-icon { color: #764ba2; text-decoration: none; font-size: 14px; margin-right: 5px; font-weight: 700; }
        .tooltip { position: fixed; background: #2d3748; color: white; padding: 16px; border-radius: 8px; font-size: 13px; max-width: 450px; z-index: 1000; box-shadow: 0 6px 20px rgba(0,0,0,0.4); display: none; pointer-events: none; line-height: 1.5; border: 1px solid #fbbf24; }
        .tooltip.show { display: block; }
        .tooltip strong { display: block; margin-bottom: 10px; color: #fbbf24; font-size: 14px; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 6px; font-weight: 700; }
        .tooltip .friction-count { display: inline-block; background: #c53030; padding: 3px 10px; border-radius: 12px; font-size: 11px; margin-left: 8px; }
        .friction-list { margin: 0; padding-left: 18px; list-style: none; }
        .friction-list li { margin: 6px 0; padding-left: 12px; position: relative; }
        .friction-list li::before { content: "‚ñ∏"; position: absolute; left: 0; color: #f56565; font-weight: bold; }
        .stats-panel { padding: 20px 30px; background: #fff; border-top: 3px solid #764ba2; display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        .stat-card { background: #f7fafc; padding: 18px; border-radius: 8px; border-left: 4px solid #764ba2; box-shadow: 0 1px 5px rgba(0,0,0,0.05); }
        .stat-card h3 { font-size: 12px; color: #718096; margin-bottom: 8px; text-transform: uppercase; font-weight: 600; }
        .stat-card .value { font-size: 32px; font-weight: 800; color: #2d3748; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>üìù Vacation Management Usability Problem Map</h1>
                <p style="margin-top: 8px; opacity: 0.9;">Decathlon Planning - Interview Synthesis (5 Sessions, 9 Users)</p>
            </div>
            <div class="gemini-badge">‚ú® Pre-Rendered View</div>
        </div>
        <div class="legend">
            <strong>Legend:</strong>
            <div class="legend-item">
                <div class="legend-box" style="background: #fed7d7;"></div>
                <span>Friction Point Detected (Hover for Details)</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #f7fafc; border: 1px solid #e2e8f0;"></div>
                <span>No Friction Cited/N/A to Role</span>
            </div>
            <div class="legend-item">
                <div class="legend-box" style="background: #f56565;"></div>
                <span>Multiple Friction Points</span>
            </div>
        </div>
        <div class="table-container">
            <table id="problemMap">
                <thead>
                    <tr>
                        <th>User / Role (Rating)</th>
                        <th>View Remaining Balance</th>
                        <th>Understand Day Types</th>
                        <th>Request Day Selection</th>
                        <th>Understand Team Conflict</th>
                        <th>View Decision Status</th>
                        <th>Modify/Cancel Request</th>
                        <th>Manager: Team View</th>
                        <th>Manager: Granular Approval</th>
                        <th>Manager: Decision Context</th>
                        <th>Overall UX/Intuition</th>
                    </tr>
                </thead>
                <tbody id="dataRows">
        <tr data-role="manager">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Raquel A.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 5.5/7</span></td>
            <td class="cell-red multiple" data-issues='[&quot;Confused by small counter numbers: &apos;los unos peque√±itos que no s√© exactamente unos y dos, no veo en la leyenda&apos;.&quot;, &apos;Wants fixed scroll on the balance panel to always track remaining days.&apos;]' data-count="2" data-session="Raquel A." data-column="View Remaining Balance">"Confused by small counter numb..."<span style="position: absolute; top: 4px; right: 4px; background: #c53030; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700;">2</span></td>
            <td class="cell-red" data-issues='[&apos;Wants Gold Days to be fully blocked.&apos;]' data-count="1" data-session="Raquel A." data-column="Understand Day Types">"Wants Gold Days to be fully bl..."</td>
            <td class="cell-red" data-issues='[&quot;Cannot drag to select a full week/range of days (&apos;No puedes arrastrar. S√≠, que l√≠a un poco&apos;).&quot;]' data-count="1" data-session="Raquel A." data-column="Request Day Selection">"Cannot drag to select a full w..."</td>
            <td class="cell-red" data-issues='[&apos;Small counter numbers (1/2) for colleagues are not clearly defined.&apos;]' data-count="1" data-session="Raquel A." data-column="Understand Team Conflict">"Small counter numbers (1/2) fo..."</td>
            <td class="cell-red" data-issues='[&apos;Wants the originally accepted day to remain marked after proposing a change.&apos;]' data-count="1" data-session="Raquel A." data-column="View Decision Status">"Wants the originally accepted ..."</td>
            <td class="cell-red" data-issues='[&quot;Changing an accepted day to a new one led to loss of original approval status (&apos;el 20 lo ten√≠a aceptado... se me ha rechazado&apos;).&quot;]' data-count="1" data-session="Raquel A." data-column="Modify/Cancel Request">"Changing an accepted day to a ..."</td>
            <td class="cell-red" data-issues='[&quot;Lacks comprehensive cross-team view (&apos;no tengo una vista completa de las vacaciones, o sea, O sea, lo tengo por persona, pero no se me cruza.&apos;).&quot;]' data-count="1" data-session="Raquel A." data-column="Manager: Team View">"Lacks comprehensive cross-team..."</td>
            <td class="cell-red" data-issues='[&apos;Needs to see WHICH person requested on a calendar day before clicking into the profile.&apos;]' data-count="1" data-session="Raquel A." data-column="Manager: Granular Approval">"Needs to see WHICH person requ..."</td>
            <td class="cell-red" data-issues='[&quot;Wants the manager to add a comment to rejection (e.g., &apos;porque tienes dos compa√±eros del mismo equipo de vacaciones&apos;).&quot;]' data-count="1" data-session="Raquel A." data-column="Manager: Decision Context">"Wants the manager to add a com..."</td>
            <td class="cell-red" data-issues='[&apos;Rated 5-6 as Collab, 4-5 as Manager, citing lack of cross-view and poor balance tracking.&apos;]' data-count="1" data-session="Raquel A." data-column="Overall UX/Intuition">"Rated 5-6 as Collab, 4-5 as Ma..."</td>
        </tr>
        <tr data-role="collaborator">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Ra√∫l<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 4.0/7</span></td>
            <td class="cell-red" data-issues='[&quot;Unexplained number counters (&apos;1&apos; and &apos;2&apos;) are not clear without manager explanation.&quot;]' data-count="1" data-session="Ra√∫l" data-column="View Remaining Balance">"Unexplained number counters ('..."</td>
            <td class="cell-red" data-issues='[&quot;Confusion with basic rules: &apos;a los propios colaboradores les cuesta... s√°bado y domingo no poner d√≠a de vacaci√≥n.&apos;&quot;]' data-count="1" data-session="Ra√∫l" data-column="Understand Day Types">"Confusion with basic rules: 'a..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Suggested a hover-over tooltip to clarify the &apos;1&apos; or &apos;2&apos; counter (&apos;Hay un colaborador que est√° solicitando este mismo d√≠a&apos;).&quot;]' data-count="1" data-session="Ra√∫l" data-column="Understand Team Conflict">"Suggested a hover-over tooltip..."</td>
            <td class="cell-red" data-issues='[&apos;Rejected day status is unclear without explanation from manager.&apos;]' data-count="1" data-session="Ra√∫l" data-column="View Decision Status">"Rejected day status is unclear..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Rated 4, stating the numbers and colors are not intuitive without prior explanation.&apos;]' data-count="1" data-session="Ra√∫l" data-column="Overall UX/Intuition">"Rated 4, stating the numbers a..."</td>
        </tr>
        <tr data-role="manager">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Alex P.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 4.0/7</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Major friction: Needs a visual way to see overlap/conflict matrix to validate requests (&apos;necesitar√≠a saber para poder validar estas vacaciones.&apos;).&quot;]' data-count="1" data-session="Alex P." data-column="Understand Team Conflict">"Major friction: Needs a visual..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Wants the number of approved users (green counter) on the individual employee view for validation.&apos;]' data-count="1" data-session="Alex P." data-column="Manager: Team View">"Wants the number of approved u..."</td>
            <td class="cell-red" data-issues='[&quot;Needs to see the number of accepted days (&apos;el dos de abajo&apos;) on the individual validation screen.&quot;]' data-count="1" data-session="Alex P." data-column="Manager: Granular Approval">"Needs to see the number of acc..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Rated 4, primarily due to lack of overlap visibility.&apos;]' data-count="1" data-session="Alex P." data-column="Overall UX/Intuition">"Rated 4, primarily due to lack..."</td>
        </tr>
        <tr data-role="collaborator">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Mari√°n G.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 6.0/7</span></td>
            <td class="cell-red" data-issues='[&quot;Translation issue: &apos;no entiendo muy bien lo de cero del balance usuario m√°s uno de arrastre&apos; (Confused by &apos;arrastre&apos;).&quot;]' data-count="1" data-session="Mari√°n G." data-column="View Remaining Balance">"Translation issue: 'no entiend..."</td>
            <td class="cell-red" data-issues='[&apos;Understands green as accepted and blue as requested.&apos;]' data-count="1" data-session="Mari√°n G." data-column="Understand Day Types">"Understands green as accepted ..."</td>
            <td class="cell-red" data-issues='[&apos;Successfully used click/deselect/re-select method to modify a request.&apos;]' data-count="1" data-session="Mari√°n G." data-column="Request Day Selection">"Successfully used click/desele..."</td>
            <td class="cell-red" data-issues='[&apos;Correctly interpreted small number as # of colleagues on vacation.&apos;]' data-count="1" data-session="Mari√°n G." data-column="Understand Team Conflict">"Correctly interpreted small nu..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Rated 6, finding it &apos;muy intuitivo&apos; once started, but noted legend nomenclature issues.&quot;]' data-count="1" data-session="Mari√°n G." data-column="Overall UX/Intuition">"Rated 6, finding it 'muy intui..."</td>
        </tr>
        <tr data-role="manager">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Rafaela N.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 6.0/7</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red multiple" data-issues='[&quot;Nomenclature issue: &apos;Feriados lo entiendo, pero bancos me parec√≠a un poco dif√≠cil de entenderlo.&apos;&quot;, &apos;Wants Gold Days tied to sectional data (MyGame/facturaci√≥n) for better relevance.&apos;]' data-count="2" data-session="Rafaela N." data-column="Understand Day Types">"Nomenclature issue: 'Feriados ..."<span style="position: absolute; top: 4px; right: 4px; background: #c53030; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700;">2</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Asked if the solution could replace their current Excel file for team visibility.&apos;]' data-count="1" data-session="Rafaela N." data-column="Manager: Team View">"Asked if the solution could re..."</td>
            <td class="cell-red" data-issues='[&apos;The ability to see the total number of concurrent requests is essential for initial triage.&apos;]' data-count="1" data-session="Rafaela N." data-column="Manager: Granular Approval">"The ability to see the total n..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Rated 6, noting it is an improvement over current pacto + Excel system.&apos;]' data-count="1" data-session="Rafaela N." data-column="Overall UX/Intuition">"Rated 6, noting it is an impro..."</td>
        </tr>
        <tr data-role="collaborator">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Nacho<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 6.0/7</span></td>
            <td class="cell-red" data-issues='[&quot;Translation issue: &apos;no entiendo muy bien lo de cero del balance usuario m√°s uno de arrastre&apos;.&quot;]' data-count="1" data-session="Nacho" data-column="View Remaining Balance">"Translation issue: 'no entiend..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Wants a notification/alert when a request is rejected (&apos;te ha rechazado un d√≠a&apos;).&quot;]' data-count="1" data-session="Nacho" data-column="View Decision Status">"Wants a notification/alert whe..."</td>
            <td class="cell-red" data-issues='[&quot;Cancellation of an accepted day should require manager re-validation, not just removal: &apos;solicita la cancelaci√≥n, ¬øno?&apos;&quot;]' data-count="1" data-session="Nacho" data-column="Modify/Cancel Request">"Cancellation of an accepted da..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Rated 6, noting it is &apos;bastante funcional&apos; but has small areas for improvement.&quot;]' data-count="1" data-session="Nacho" data-column="Overall UX/Intuition">"Rated 6, noting it is 'bastant..."</td>
        </tr>
        <tr data-role="manager">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Marta G.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 6.0/7</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Appreciates the Gold Day visibility (&apos;los d√≠as gold&apos;).&quot;]' data-count="1" data-session="Marta G." data-column="Understand Day Types">"Appreciates the Gold Day visib..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Wants to see the conflict counters (1/2) when viewing an individual employee to aid validation.&apos;]' data-count="1" data-session="Marta G." data-column="Understand Team Conflict">"Wants to see the conflict coun..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Needs explicit multiselection for bulk approval/rejection (not clear if single click on a day is enough).&apos;]' data-count="1" data-session="Marta G." data-column="Manager: Granular Approval">"Needs explicit multiselection ..."</td>
            <td class="cell-red" data-issues='[&apos;Emphasized that an alert/notification is needed upon rejection.&apos;]' data-count="1" data-session="Marta G." data-column="Manager: Decision Context">"Emphasized that an alert/notif..."</td>
            <td class="cell-red" data-issues='[&quot;&apos;creo que da much√≠sima visibilidad sobre todo al manager.&apos;&quot;]' data-count="1" data-session="Marta G." data-column="Overall UX/Intuition">"'creo que da much√≠sima visibil..."</td>
        </tr>
        <tr data-role="collaborator">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Ferr√°n<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 5.5/7</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red multiple" data-issues='[&quot;Confused by the variety of colors and borders (&apos;azul claro, azul, negro, etc.&apos;).&quot;, &quot;Suggested Golden Days (&apos;d√≠as fuertes&apos;) should be blocked/painted red.&quot;]' data-count="2" data-session="Ferr√°n" data-column="Understand Day Types">"Confused by the variety of col..."<span style="position: absolute; top: 4px; right: 4px; background: #c53030; color: white; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700;">2</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Appreciated the counter visibility, as the previous system lacked this (&apos;no sal√≠a tanta informaci√≥n&apos;).&quot;]' data-count="1" data-session="Ferr√°n" data-column="Understand Team Conflict">"Appreciated the counter visibi..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Prototype did not correctly re-assign &apos;adeudadas&apos; status on day modification.&quot;]' data-count="1" data-session="Ferr√°n" data-column="Modify/Cancel Request">"Prototype did not correctly re..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;&apos;lo veo bastante mejor que el otro. Al final te da mucha m√°s informaci√≥n. Sale claro.&apos;&quot;]' data-count="1" data-session="Ferr√°n" data-column="Overall UX/Intuition">"'lo veo bastante mejor que el ..."</td>
        </tr>
        <tr data-role="manager">
            <td><a href="#" class="link-icon" onclick="event.preventDefault()">üë§</a> Jose Mari G.<br><span style="font-size:10px;color:#718096;font-weight: normal;">Rating: 6.0/7</span></td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Wants color continuity with e-planning: green for approved, red for high-traffic days.&apos;]' data-count="1" data-session="Jose Mari G." data-column="Understand Day Types">"Wants color continuity with e-..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&quot;Wants the team counter visible on the individual employee view: &apos;se ha ido el numerito de cu√°ntas personas hay de vacaciones&apos;.&quot;]' data-count="1" data-session="Jose Mari G." data-column="Understand Team Conflict">"Wants the team counter visible..."</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-neutral">‚Äî</td>
            <td class="cell-red" data-issues='[&apos;Needs explicit multiselection for bulk approval/rejection.&apos;]' data-count="1" data-session="Jose Mari G." data-column="Manager: Granular Approval">"Needs explicit multiselection ..."</td>
            <td class="cell-red" data-issues='[&apos;Suggests blocking the re-solicitation of rejected days to encourage conversation.&apos;]' data-count="1" data-session="Jose Mari G." data-column="Manager: Decision Context">"Suggests blocking the re-solic..."</td>
            <td class="cell-red" data-issues='[&quot;&apos;me parece un gran avance... te dar√≠a un seis para agregar esas mejoras m√°s.&apos;&quot;]' data-count="1" data-session="Jose Mari G." data-column="Overall UX/Intuition">"'me parece un gran avance... t..."</td>
        </tr>

                </tbody>
            </table>
        </div>
        <div class="stats-panel">
            <div class="stat-card">
                <h3>Total Friction Points</h3>
                <div class="value">54</div>
            </div>
            <div class="stat-card">
                <h3>Sessions Analyzed</h3>
                <div class="value">9</div>
            </div>
            <div class="stat-card">
                <h3>Avg UX Rating (1-7)</h3>
                <div class="value">5.3</div>
            </div>
            <div class="stat-card">
                <h3>Most Common Issue</h3>
                <div class="value" style="font-size: 14px;">Team Conflict Visibility</div>
            </div>
        </div>
    </div>
    <div class="tooltip" id="tooltip"></div>
    <script>
        const tooltip = document.getElementById('tooltip');
        document.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('cell-red')) {
                const issuesData = e.target.dataset.issues;
                const session = e.target.dataset.session;
                const column = e.target.dataset.column;
                const count = e.target.dataset.count;
                if (issuesData) {
                    const issues = JSON.parse(issuesData.replace(/&quot;/g, '"').replace(/&apos;/g, "'"));
                    let tooltipHTML = `<strong>${session} - ${column}`;
                    if (count > 1) tooltipHTML += `<span class="friction-count">${count} friction points</span>`;
                    tooltipHTML += `</strong>`;
                    if (issues.length > 1) {
                        tooltipHTML += '<ul class="friction-list">';
                        issues.forEach(issue => { tooltipHTML += `<li>${issue}</li>`; });
                        tooltipHTML += '</ul>';
                    } else {
                        tooltipHTML += `<div style="margin-top: 8px;">${issues[0]}</div>`;
                    }
                    tooltip.innerHTML = tooltipHTML;
                    tooltip.classList.add('show');
                    const rect = e.target.getBoundingClientRect();
                    let leftPos = rect.left;
                    let topPos = rect.bottom + 10;
                    if (leftPos + tooltip.offsetWidth > window.innerWidth - 20) leftPos = window.innerWidth - tooltip.offsetWidth - 20;
                    if (leftPos < 20) leftPos = 20;
                    tooltip.style.left = leftPos + 'px';
                    tooltip.style.top = topPos + 'px';
                }
            }
        });
        document.addEventListener('mouseout', (e) => {
            if (e.target.classList.contains('cell-red')) tooltip.classList.remove('show');
        });
    </script>
</body>
</html>
